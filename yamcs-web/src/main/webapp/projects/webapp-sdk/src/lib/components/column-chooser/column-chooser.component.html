<button [matMenuTriggerFor]="colMenu" class="ya-button" [class.text-only]="text">
  @if (icon) {
    <mat-icon>{{ icon }}</mat-icon>
  }
  Columns
  <mat-icon class="icon12">arrow_drop_down</mat-icon>
</button>

<mat-menu #colMenu="matMenu" yPosition="below" class="ya-menu" [overlapTrigger]="false">
  <ng-template matMenuContent>
    @for (column of columns; track column) {
      @if (!column.alwaysVisible) {
        <button mat-menu-item (click)="toggleColumn(column)">
          <mat-icon [style.visibility]="isVisible(column) ? 'visible' : 'hidden'">check</mat-icon>
          {{ column.label }}
        </button>
      }
    }
  </ng-template>
</mat-menu>
